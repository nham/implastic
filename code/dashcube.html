<html> 
    <head>
        <title>My first Three.js app</title>
        <style>canvas { width: 100%; height: 100% }</style>
    </head>
    <body>
    <script src="https://rawgithub.com/mrdoob/three.js/master/build/three.js"></script> 
    
    <script>
        var camera, scene, renderer, material;
        var objects = [];
        WIDTH = window.innerWidth;
        HEIGHT = window.innerHeight;

        var container = document.createElement( 'div' );
        document.body.appendChild( container );

        init(container, 0x222222);

        
        objects.push( coordsys(scene, 30, new THREE.Vector3(-20, -5, 0), 0xffaa00) );
        objects.push( coordsys(scene, 15, new THREE.Vector3(-50, 20, 0), 0xff00aa) );


        // want a function that draws a coord system of a certain size at a certain
        // point in a certain container

        function coordsys(scene, size, position, color) {
            var geometryCube = triad( size , 0, 0, 0);
            geometryCube.computeLineDistances();

            var cube_mat = new THREE.LineDashedMaterial( 
                    { color: color, dashSize: 3, gapSize: 1, linewidth: 4 });

            var object = new THREE.Line( geometryCube, cube_mat, THREE.LinePieces );

            object.position = position;
            scene.add( object );

            return object;
        }

        function init(container, rendererBGColor) {

            var aspect = WIDTH / HEIGHT;
            camera = new THREE.PerspectiveCamera( 33, aspect, 0.1, 1000 ); 
            camera.position.z = 100;

            scene = new THREE.Scene(); 

            renderer = new THREE.WebGLRenderer( { antialias: true } );
            renderer.setClearColor( rendererBGColor ); // a nice gray
            renderer.setSize( WIDTH, HEIGHT );
            container.appendChild( renderer.domElement );
        }

        function triad( size, x, y, z) {
            var h = size * 0.5;

            var geometry = new THREE.Geometry();

            geometry.vertices.push( new THREE.Vector3( x, y, z ) );
            geometry.vertices.push( new THREE.Vector3( x + size, y, z ) );

            geometry.vertices.push( new THREE.Vector3( x, y, z ) );
            geometry.vertices.push( new THREE.Vector3( x, y + size, z ) );

            geometry.vertices.push( new THREE.Vector3( x, y, z ) );
            geometry.vertices.push( new THREE.Vector3( x, y, z + size ) );

            return geometry;
        }

        /*
        var geometry = new THREE.CubeGeometry(1,1,1);
        var material = new THREE.MeshBasicMaterial( { color: 0x00ff00 } ); 
        var cube = new THREE.Mesh( geometry, material ); 
        scene.add( cube ); 
        camera.position.z = 5;
        */


        function render() { 
            requestAnimationFrame(render); 

            var time = Date.now() * 0.001;

                objects[0].rotation.x += 0.03;
                objects[0].rotation.z += 0.05;
                //objects[0].rotation.y += 0.01;
                //objects[1].rotation.x -= 0.05;
                objects[1].rotation.y += 0.05;
                objects[1].position.x += 0.05;
            renderer.render(scene, camera);
        } 
        render();
    </script>
    </body>
</html>


